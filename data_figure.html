<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<link rel="apple-touch-icon" sizes="76x76" href="assets/img/apple-icon.png">
	<link rel="icon" type="image/png" sizes="96x96" href="assets/img/favicon.png">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<title>统计图</title>

	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />

    <link href="bootstrap3/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/css/gsdk.css" rel="stylesheet"/>
    <script src="bower_components/chart.js/dist/Chart.js"></script>
    <script src="bower_components/chart.js/dist/Chart.min.js"></script>
    
    <link href="assets/css/demo.css" rel="stylesheet" />

    <!--     Fonts and icons     -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Grand+Hotel|Open+Sans:400,300' rel='stylesheet' type='text/css'>
    <link href="assets/css/pe-icon-7-stroke.css" rel="stylesheet" />
</head>
<body>
    <nav class="navbar navbar-ct-azure navbar-icons" role="navigation-demo">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navigation-example-2">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="#">Demo</a>
            </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navigation-example-2">
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                           <a href="data_figure.html" >
                                <i class="pe-7s-help1"></i>
                                <p>数据统计</p>
                            </a>
                        </li>
                        <li>
                           <a href="home.html" >
                                <i class="pe-7s-study"></i>
                                <p>数据管理</p>
                            </a>
                        </li>
                        <li>
                           <a href="usermanage.html" >
                                <i class="pe-7s-credit"></i>
                                <p>用户管理</p>
                            </a>
                        </li>
                        <li>
                           <a href="index.html" >
                                <i class="pe-7s-home"></i>
                                <p>注销</p>
                            </a>
                        </li>
                    </ul>
                </div>
            </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
    </nav>
    <div class="container">
        <div class="col-md-3" style="margin-top: 10px">
            <select name="huge" class="selectpicker" id="typeselect" data-style="btn-default btn-block" data-menu-style="dropdown-blue" onchange="getSelectValue()">
                  <option value="water">水费</option>
                  <option value="gas">天然气</option>
                  <option value="electric">电费</option>
            </select>
                <select name="huge" class="selectpicker" id="chartselect" data-style="btn-default btn-block" data-menu-style="dropdown-blue" onchange="getSelectchart()">
                      <option value="bar">矩形图表</option>
                      <option value="pie">饼形图标</option>
                </select>
        </div>
        </div>
            
        <div class="col-md-8 col-md-offset-2">
          <canvas id="myChart1" width="width:50%" height="height:50%" style="visibility: visible;"></canvas>
          <canvas id="myChart" width="width:50%" height="height:50%" style="visibility: hidden;"></canvas>
      </div>
        </div>
</body>
<script src="assets/js/jquery.js" type="text/javascript"></script>
<script src="assets/js/jquery-ui.custom.min.js" type="text/javascript"></script>
<script src="bootstrap3/js/bootstrap.min.js" type="text/javascript"></script>

<script src="assets/js/bootstrap-datepicker.js"></script>
</html>

<script>
//    var ctx = document.getElementById('myChart1');
    showWater();
    var data = {
    labels: ['代理客户1', '代理客户2', '代理客户3', '代理客户4','代理客户5'],
    datasets: [
        {
            data: [300, 50, 100,200,100],
            backgroundColor: [
                "#FF6384",
                "#36A2EB",
                "#FFCE56",
                "#FEFE56",
                "#FFF100"
            ],
            hoverBackgroundColor: [
                "#FF6384",
                "#36A2EB",
                "#FFCE56",
                "#FEFE56",
                "#FFF100"
            ]
        }]
};


    // Get the context of the canvas element we want to select
        var ctx = document.getElementById("myChart").getContext("2d");
        var myBarChart = new Chart(ctx, {
                                            type: 'pie',
                                            data: data,
                                            // options: options
         });

    function getSelectValue() {
        var selectString = $("#typeselect").find("option:selected").val();
        $('#simple_data').empty();
        if (selectString == 'water')  {
            showWater();
        }else if(selectString == 'gas'){
            showGas();
        }else  {
            showelectric();
        }
    }
    function showWater(){
        var ctx = document.getElementById('myChart1');
        var myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['代理客户1', '代理客户2', '代理客户3', '代理客户4','代理客户5'],
                datasets: [{
                    label: '水费',
                    data: [43, 34, 23,55,47],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(255, 222, 16, 0.2)',
                        'rgba(225, 122, 46, 0.2)',
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(255, 222, 16, 1)',
                        'rgba(225, 122, 46, 1)',
                    ],
                    borderWidth: 1
                }]
            },
        });
    }

    function showGas(){
        var ctx = document.getElementById('myChart1');
        var myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['代理客户1', '代理客户2', '代理客户3', '代理客户4','代理客户5'],
                datasets: [{
                    label: '天然气',
                    data: [22, 59, 3,21,42],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(255, 222, 16, 0.2)',
                        'rgba(225, 122, 46, 0.2)',
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(255, 222, 16, 1)',
                        'rgba(225, 122, 46, 1)',
                    ],
                    borderWidth: 1
                }]
            },
        });

    }

    function showelectric(){
        var ctx = document.getElementById('myChart1');
        var myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['代理客户1', '代理客户2', '代理客户3', '代理客户4','代理客户5'],
                datasets: [{
                    label: '电费',
                    data: [42, 39, 33,24,11],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(255, 222, 16, 0.2)',
                        'rgba(225, 122, 46, 0.2)',
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(255, 222, 16, 1)',
                        'rgba(225, 122, 46, 1)',
                    ],
                    borderWidth: 1
                }]
            },
        });

    }

function getSelectchart() {
    var selectString = $("#chartselect").find("option:selected").val();
    $('#simple_data').empty();
    if (selectString == 'bar') {
        showbar();
    } else if (selectString == 'pie') {
        showpie();
    }
}
    function showbar(){
        document.getElementById("myChart").style.display="none";
        document.getElementById("myChart1").style.display="inline";
    }

    function showpie(){
        document.getElementById("myChart1").style.display="none";
        document.getElementById("myChart").style.visibility="visible";
    }



    </script>