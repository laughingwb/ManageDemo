<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<link rel="apple-touch-icon" sizes="76x76" href="assets/img/apple-icon.png">
	<link rel="icon" type="image/png" sizes="96x96" href="assets/img/favicon.png">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<title>用户管理</title>

	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />

    <link href="bootstrap3/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/css/gsdk.css" rel="stylesheet"/>

    <link href="assets/css/demo.css" rel="stylesheet" />

    <!--     Fonts and icons     -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Grand+Hotel|Open+Sans:400,300' rel='stylesheet' type='text/css'>
    <link href="assets/css/pe-icon-7-stroke.css" rel="stylesheet" />
</head>
<body>
    <nav class="navbar navbar-ct-azure navbar-icons" role="navigation-demo">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navigation-example-2">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="#">Demo</a>
            </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navigation-example-2">
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                           <a href="data_figure.html" >
                                <i class="pe-7s-help1"></i>
                                <p>数据统计</p>
                            </a>
                        </li>
                        <li>
                           <a href="home.html" >
                                <i class="pe-7s-study"></i>
                                <p>数据管理</p>
                            </a>
                        </li>
                        <li>
                           <a href="usermanage.html" >
                                <i class="pe-7s-credit"></i>
                                <p>用户管理</p>
                            </a>
                        </li>
                        <li>
                           <a href="index.html" >
                                <i class="pe-7s-home"></i>
                                <p>注销</p>
                            </a>
                        </li>
                    </ul>
                </div>
            </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
    </nav>
    <div class="container">
        <div class="row">
            <div class="col-md-8 col-md-offset-1">
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th class="text-center">#</th>
                                <th>登录名</th>
                                <th>角色</th>
                                <th>联系方式</th>
                                <th>密码</th>
                                <th class="text-right">操作</th>
                            </tr>
                        </thead>
                        <tbody id="datacell">

                        </tbody>
                    </table>
                </div>
            </div>
            <div class="col-md-1">
                <button style="margin-top: 10px" type="submit" onclick="adduser()" class="form-actions btn btn-social btn-block  btn-info">添加</button>
            </div>
        </div>
        <div class="modal fade" id="add_table" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
             <div class="form-group">
                <div class="modal-content"s>
                    <div class="modal-body">

                        <table class="table table-responsive">
                            <tr>
                                <td>登录名</td>
                                <td colspan="3">
                                    <input autocomplete="off" style="width: 150px;font-size: 13px" type="text" id="username" name="username" required="required">
                                </td>
                            </tr>
                            <tr>
                                <td>角色</td>
                                <td colspan="3">
                                    <input  autocomplete="off" style="width: 150px;font-size: 12px" type="text" id="gender" name="gender">
                                </td>
                            </tr>
                            <tr>
                                <td>联系方式</td>
                                <td colspan="3">
                                    <input  autocomplete="off" style="width: 150px;font-size: 12px" type="text" id="telnumber" name="telnumber">
                                </td>
                                </tr>
                            <tr>
                                <td>密码</td>
                                <td>
                                    <input  autocomplete="off" style="width: 150px;font-size: 12px" type="text" id="password" name="password">
                                </td>
                            </tr>
                            <tr>
                                <td colspan="4">
                                <button id="submit_data" type="button" onclick="submit_data()" class="btn btn-info btn-block">
                                     确认添加
                                </button>
                                </td>
                            </tr>
                        </table>

                    </div>
                </div>
             </div>
        </div>
    </div>
        <div class="modal fade" id="alert_table" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
             <div class="form-group">
                <div class="modal-content"s>
                    <div class="modal-body">

                        <table class="table table-responsive">
                            <tr>
                                <td>登录名</td>
                                <td colspan="3">
                                    <input autocomplete="off" style="width: 150px;font-size: 13px" type="text" id="alert_username" name="username" required="required">
                                </td>
                            </tr>
                            <tr>
                                <td>角色</td>
                                <td colspan="3">
                                    <input  autocomplete="off" style="width: 150px;font-size: 12px" type="text" id="alert_gender" name="gender">
                                </td>
                            </tr>
                            <tr>
                                <td>联系方式</td>
                                <td colspan="3">
                                    <input  autocomplete="off" style="width: 150px;font-size: 12px" type="text" id="alert_telnumber" name="telnumber">
                                </td>
                                </tr>
                            <tr>
                                <td>密码</td>
                                <td>
                                    <input  autocomplete="off" style="width: 150px;font-size: 12px" type="text" id="alert_password" name="password">
                                </td>
                            </tr>
                            <tr>
                                <td colspan="4">
                                <button id="alert_data" type="button" onclick="alert_submit()" class="btn btn-info btn-block">
                                     确认修改
                                </button>
                                </td>
                            </tr>
                        </table>

                    </div>
                </div>
             </div>
        </div>
    </div>
    </div>

    <script src="assets/js/jquery.js" type="text/javascript"></script>
	<script src="assets/js/jquery-ui.custom.min.js" type="text/javascript"></script>

	<script src="bootstrap3/js/bootstrap.min.js" type="text/javascript"></script>

    <script>
        var dataArray=new Array()
        var alerttag = -1;
        function adduser() {
            $("#username").val('');
            $("#gender").val('');
            $("#telnumber").val('');
            $("#password").val('');
            $('#add_table').modal('show');
        }
        function submit_data() {

            var username = $("#username").val();
            var gender = $("#gender").val();
            var telnumber = $("#telnumber").val();
            var password = $("#password").val();
            if (username.length == 0){
                alert("请输入姓名")
            } else if (gender.length == 0){
                alert("请输入性别")
            } else if (telnumber.length == 0){
                alert("请输入手机号")
            }else if (password.length == 0){
                alert("请设置密码")
            }else {
                var userinfo = new Object();
                userinfo.username = username;
                userinfo.gender = gender;
                userinfo.telnumber = telnumber;
                userinfo.password = password;
                dataArray.push(userinfo);
                $('#add_table').modal('hide');
                showcell()
            }
        }
        function showcell() {
            $('#datacell').empty();
            for (var i = 0 ; i < dataArray.length; i ++){
                var obj = dataArray[i];
                var num = i + 1;
                var cellhtml = '<tr><td class="text-center">' + num + '</td><td>'+obj.username+'</td><td>'+obj.gender+'</td><td>'+obj.telnumber+'</td><td>'+obj.password+'</td><td class="text-right"><button type="button" onclick="delete_cell(' + i + ')" class="btn btn-info">删除</button><button style="margin-left: 10px" class="btn btn-info type="button" onclick="alert_cell(' + i + ')">修改'+'</button></td><tr>'
                $(cellhtml).appendTo('#datacell');
            }
        }
        function alert_cell(index) {
            alerttag = index
            var obj = dataArray[index]
            alert_data(obj)

        }
        function alert_data(obj) {

            $("#alert_username").val(obj.username);
            $("#alert_gender").val(obj.gender);
            $("#alert_telnumber").val(obj.telnumber);
            $("#alert_password").val(obj.password);
            $('#alert_table').modal('show');

        }
        function alert_submit() {
             var username = $("#alert_username").val();
            var gender = $("#alert_gender").val();
            var telnumber = $("#alert_telnumber").val();
            var password = $("#alert_password").val();
            if (username.length == 0){
                alert("请输入姓名")
            } else if (gender.length == 0){
                alert("请输入性别")
            } else if (telnumber.length == 0){
                alert("请输入手机号")
            }else if (password.length == 0){
                alert("请设置密码")
            }else {
                var userinfo = dataArray[alerttag];
                userinfo.username = username;
                userinfo.gender = gender;
                userinfo.telnumber = telnumber;
                userinfo.password = password;
                $('#alert_table').modal('hide');
                showcell()
            }
        }
        function delete_cell(index) {
            dataArray.splice(index, 1)
            showcell()
        }
    </script>
</body>
</html>